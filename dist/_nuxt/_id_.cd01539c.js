import{_ as J}from"./nuxt-link.0ad30cb8.js";import{l as d,V as m,i as S,o as u,m as b,N as t,Q as r,W as x,X as y,u as i,Y as k,Z as I,s as B,B as E,O as T,P as c,w as $,S as C,M as D,R as N}from"./entry.245347bb.js";import{_ as P}from"./job.fa7c9428.js";/* empty css                       */import{_ as A}from"./FormJob.87beb4a4.js";const f=e=>(k("data-v-67745933"),e=e(),I(),e),O={class:"max-w-sm rounded overflow-hidden shadow-lg mt-8"},L=f(()=>t("img",{class:"w-full",src:P,alt:"job"},null,-1)),V={class:"px-6 py-4"},q={class:"font-bold text-xl mb-2"},R={class:"text-gray-700 text-base"},F=f(()=>t("div",{class:"px-6 pt-4 pb-2"},[t("span",{class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"},"#job"),t("span",{class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"},"#nuxt"),t("span",{class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"},"#nuxtjob")],-1)),U={class:"px-6 py-4 pb-2"},H={__name:"JobDetails",props:["job"],setup(e){const{job:s}=e,a=m();S(()=>{var o;return(o=a.value)==null?void 0:o.email});async function n(){var o;await $fetch("/api/application/manageApplication",{method:"POST",body:{event:"APPLICATION_JOB",email:(o=a.value)==null?void 0:o.email,society:s.society}})}return(o,l)=>(u(),b("div",O,[L,t("div",V,[t("div",q,r(e.job.society),1),t("p",R,r(e.job.description),1)]),F,x(t("div",U,[t("button",{class:"job px-3 py-1",onClick:n},"Postuler")],512),[[y,i(a)]])]))}},M=d(H,[["__scopeId","data-v-67745933"]]);const Q={__name:"[id]",async setup(e){let s,a;const n=m(),o="Update",l="PATCH",{id:_}=B().params,p=E({query:"getById",params:_}),h=([s,a]=T(()=>$fetch(`/api/job/job?query=${p.value.query}&params=${p.value.params}`)),s=await s,a(),s);async function v(){return confirm("Êtes vous certain de supprimer ce job ?"),await $fetch("/api/job/manageJob",{method:"DELETE",body:{event:"DELETE_JOB",id:_}}),D("/")}return(W,X)=>{const g=J,j=M,w=A;return u(),b(C,null,[c(g,{to:"/",class:"job"},{default:$(()=>[N(" Retour à la liste des jobs")]),_:1}),c(j,{job:i(h)},null,8,["job"]),x(t("div",null,[c(w,{title:o,action:l}),t("button",{class:"job",onClick:v},"Supprimer le Job")],512),[[y,i(n)]])],64)}}},tt=d(Q,[["__scopeId","data-v-4e6441f4"]]);export{tt as default};
