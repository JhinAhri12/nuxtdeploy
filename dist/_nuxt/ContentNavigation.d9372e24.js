import{e as c,_ as f,f as v,a as l,t as d,i as g,j as h,b as y,h as r}from"./entry.245347bb.js";import{h as u,u as w}from"./index.484518c7.js";import{_ as C}from"./nuxt-link.0ad30cb8.js";import{q as $,e as b,j}from"./query.1f264b87.js";import{w as m,s as x,u as N}from"./utils.ab3b679d.js";/* empty css                         *//* empty css                   *//* empty css                       *//* empty css                   *//* empty css                    *//* empty css                      */const P=async n=>{const{content:t}=c().public;typeof(n==null?void 0:n.params)!="function"&&(n=$(n));const e=n.params(),s=t.experimental.stripQueryParameters?m(`/navigation/${`${u(e)}.${t.integrity}`}/${b(e)}.json`):m(`/navigation/${u(e)}.${t.integrity}.json`);if(x())return(await f(()=>import("./client-db.cb661bc8.js"),["./client-db.cb661bc8.js","./entry.245347bb.js","./entry.2969f32b.css","./query.1f264b87.js","./index.484518c7.js","./utils.ab3b679d.js","./index.a6ef77ff.js"],import.meta.url).then(o=>o.generateNavigation))(e);const a=await $fetch(s,{method:"GET",responseType:"json",params:t.experimental.stripQueryParameters?void 0:{_params:j(e),previewToken:v("previewToken").value}});if(typeof a=="string"&&a.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return a};const G=l({name:"ContentNavigation",props:{query:{type:Object,required:!1,default:void 0}},async setup(n){const{query:t}=d(n),e=g(()=>{var a;return typeof((a=t.value)==null?void 0:a.params)=="function"?t.value.params():t.value});if(!e.value&&h("dd-navigation").value){const{navigation:a}=N();return{navigation:a}}const{data:s}=await w(`content-navigation-${u(e.value)}`,()=>P(e.value));return{navigation:s}},render(n){const t=y(),{navigation:e}=n,s=o=>r(C,{to:o._path},()=>o.title),a=(o,p)=>r("ul",p?{"data-level":p}:null,o.map(i=>i.children?r("li",null,[s(i),a(i.children,p+1)]):r("li",null,s(i)))),_=o=>a(o,0);return t!=null&&t.default?t.default({navigation:e,...this.$attrs}):_(e)}});export{G as default};
